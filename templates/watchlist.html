{% extends 'base.html' %}


{% block content %}


<h2>My Watch List</h2><br>
<a href="/screen">Stock Screener</a><br><br>

{% for i in watchlist %}
<div>
    <div>
        <span>Stock: </span>{{ i.stock_id }}
        <b id="stock">{{ i.stock.company_name }}</b>
    </div>
    <div>
        <span>$ </span>
        <b id="ave-price">{{ '%0.2f' | format(i.stock.weekly_ave_price | float) }}</b>
    </div>
    <div>
        <canvas id="{{ i.stock_id }}"></canvas>
    </div>
</div>
{% endfor %}
<script type="text/javascript" src="/static/watchlist.js"></script>

<!-- <script type="text/javascript">
        yourInitFunction({{prices}});
</script> -->
<!-- <script>
    console.log(prices);
    for (const price of Object.values(prices)) {
        console.log(price);
        $('canvas').html(price);
    };
</script> -->


{% endblock %}